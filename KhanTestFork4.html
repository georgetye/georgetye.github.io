<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
html{
	overflow-y: hidden;
}

html, body {
	margin:0;
	padding:0;
}

div#purpleBar{
    top: 0;
    left: 0px;
    width: 100%;
    height: 50px;
    background-color: rgb(98, 40, 146);
}

div#grayHelm{
    left: 0px;
    width: 100%;
    height: 50px;
    background-color: rgb(77, 76, 77);
    /*font properties*/
    color: #fff;
	font-family: "Times New Roman";
}

div#testStatus{
	display: inline-block;
	position: relative;
	top: -15%;
	width: 10%;
	margin-left: 2vh;
	font-size: 16px;
}

div#nameBox{
	display: inline-block;
	margin-left: 19%;
	margin-top: 0.5vh;
	width: 40%;
	text-align: center;
	font-size: 18px;
}

span#mcat{
	font-size: 16px;
}

div#left{
	float: left;
	padding: 1%;
	width: 48%;
	height: 75vh;
	overflow-y: auto;
}

div#passage p {
    text-indent: 4vh;
    line-height: 1.25;
    font-size: 16px;
}

div#figure{
	text-align: center;
	width: 100%;
}

div#table{
	text-align: center;
	width: 100%;
	margin-bottom: 2vh;
}

span#figure {
	margin-left: 5vh;
	display: inline-block;
	margin-bottom: 2vh;
}

div#passageNumberOG{
	text-indent: 0px;
	font-weight: bold;
	font-size: 16px;
	margin-bottom: 5vh;
}

div#questionBar{
	background-color: rgb(77, 76, 77);
	 /*font properties*/
    color: #fff;
	font-family: "Times New Roman";
	font-size: 18px;
	padding: 0.5% 1%;
}

div#solutionColumn{
	text-align: center;
	width: 8%;
	height: 72vh;
	display: inline-block;
	float: left;
	font-size: 12px;
}

div#solutionColumn img{
	padding-top: 5vh;
	cursor:pointer;
}

div#solution{
	padding-top: 3vh;
	color: blue;
}

div#right{
	float: right;
	padding: 1%;
	width: 48%;
}

div#grayBottom{
    position: fixed;
    bottom: 0;
    width: 100%;
    height: 55px;
    background-color: #4d4c4d;

}

div#grayBottom div{
	display: inline-block;
	margin-left: 7.4%;
	margin-right: 7.4%;
	margin-top:0.6%;
}

div#grayBottom div#previous{
	margin-left: 8.5%;
}

div#grayBottom img{
	cursor:pointer;
}

</style>

<script>
var position = 1;
var correct=0;
var passageNumber = 1;
var passageBank = [
	["Passage 1", //Passage Title
	'<p>In 1960, Dr. George Sperling asked participants to recall a 4x3 group of letters flashed on a screen for less than a second. When instructed to recall as many letters as possible, most participants could only name the first four or five letters.</p><p>Dr. Sperling then asked another group to name only one of the rows. After they saw the image flash, he would randomly sound one of three tones. Sounding a high-frequency tone indicated that the participant should give the first line of letters; a medium-frequency tone indicated the middle row; and a low-frequency tone asked for the last row. If the tone was broadcast immediately after the image was flashed, the majority of subjects recalled all four letters. This marked the discovery of iconic memory, the visual form of sensory memory. Audible sensory memory (also known as echoic memory) lasts for several seconds.</p><div id="figure"><img src="https://ka-perseus-images.s3.amazonaws.com/a7d4238a28e6eef5321d3f6278fb17ce5a9461cf.png"></div><b>Figure 1</b><span id="figure">Experimental setup for Dr. Sperling</span><p>Sensory memory is constantly processing enormous amounts of information from the world around you. What you pay attention to gets passed into working memory. This stage can be described in three major sections – the visuospatial sketchpad, the phonological loop, and the central executive. The sketchpad stores visual information, like a photograph, while the loop deals with words and numbers. The job of coordinating the two falls to the central executive – connecting an address you hear with a map that you see, for example.</p>', //Passage with Formatting
	[[/*Array of Questions*/
	/*Question 1*/
	"Why did Dr. Sterling use a tone to indicate the line of the row he wanted participants to recite?", 
	/*A*/
	"Asking verbally would take longer than iconic memory lasts",
	/*B*/
	"Dr. Sperling intended to study the connection between audio and visual cues", 
	/*C*/
	"It was the clearest way to signal the question to multiple participants",  
	/*D*/
	"Using an audible cue helped trigger echoic memory", 
	/*Answer*/
	"A",
	/*Student Answer*/
	"X",
	/*Solution*/
	"The tones were part of the second round of the experiment.<br><br>Iconic memory is thought to last only a fraction of a second.<br><br>In order to test iconic memory, Dr. Sperling required a stimulus that was quick enough that the image would still be in participants heads."
	],
	[/*Question 2*/"Which is the best test of echoic memory?","Asking participants to provide the next line in a well-known song","Asking participants to summarize a story that was read to them", "Asking participants to identify whether two tones are identical", "Asking participants to sing the first line of their favorite song", "C", "X", "Echoic memory is a form of sensory memory - it is very short-lived.<br><br>Echoic memory is an audible fragment of the information we are continually processing from the outside world.<br><br>Asking participants to identify whether two tones are identical is the best test of echoic memory."],
	[/*Question 3*/"Which of the following explains why we see movement in a flip-book or stop-motion animation?", "Iconic memory","Central executive", "Echoic memory", "Visuospatial sketchpad", "A", "X", "Flip-books and stop-motion animations are both series of still images flashed in front of the eyes in quick succession to create a moving image.<br><br>The central executive is responsible for coordinating the visuospatial sketchpad and the phonological loop.<br><br>Iconic memory is a major part of change detection, and helps us notice the changes in each progressive image, turning it into a single moving picture."],
	[/*Question 4*/"If you drive by a stop sign and then try to recall it several minutes later, which are you using?", "Echoic memory, then the phonological loop","Echoic memory, then the visuospatial sketchpad", "Iconic memory, then the visuospatial sketchpad", "Iconic memory, then the phonological loop", "D", "X", "Information passes through the sensory memory to the working memory.<br><br>A stop sign is a picture of a word.<br><br>The stop sign (a picture of a word) would first pass through the iconic memory, and then into phonological loop."],
	[/*Question 5*/"Which of the following is a technique used to increase the amount of information stored in working memory?","Semantic Networking","Imagery", "Self-referencing","Chunking","D", "X", "Many mnemonic techniques are focused on transferring information from working memory to long-term memory.<br><br>Semantic networks are like mental maps in our heads where we connect related concepts.<br><br>Chunking is the process of grouping information to reduce the number of “datums” stored, to allow for a greater amount of information to be stored in working memory. Ex: remembering TVFBIHPCBS as TV FBI HP CBS."]],
	],
	[
	"Passage 2",
	'<p>Our ability to perceive the world around us is based on the fact that we are constantly making inferences about the various stimuli that we are exposed to. These inferences allow us to notice meaningful patterns and pay attention to novel stimuli in order to enhance our mental representations of the world. <i>Gestalt psychology</i> is one school of thought that seeks to understand perceptual organization, and operates from the viewpoint that human beings perceive phenomenon as whole, grouped parts, rather than perceiving individual features. <i>Gestalt theory,</i> when applied to perceptions of physical facial attractiveness, would suggest that ratings of the attractiveness of a person’s face would be based on an evaluation of the grouped, collective features of the whole face, rather than on distinct evaluations of specific parts of their face (like their nose shape, eye color, or lips). From this perspective a person with symmetrical facial traits might be evaluated as more attractive than someone with asymmetrical traits, because their face, when evaluated as a whole, appears to be more proportional and similar.</p><p>A researcher is interested in finding out how perceptions of facial symmetry influence ratings of attractiveness. She alters a photo of a man and woman to create two images - one depicts their faces as having high symmetrical features, while the other depicts their faces as having low symmetrical features. She shows the pictures to 400 undergraduates and asks them to rate the attractiveness of the individuals in the photos on a scale of 1 to 10, with 1 indicating that the faces are not attractive and 10 indicating that faces are highly attractive. Table 1 outlines the mean attractiveness ratings for the images.</p><b>Table 1</b><span id="figure">Experimental setup for Dr. Sperling</span><div id="table"><img src="img/gestaltTable.png"></div>',
	[[/*Question 6*/"Which of the following accurately describes the Gestalt Law of Continuity?","Lines are seen as following the most discontinuous path.","Lines following the roughest path are naturally recognized.", "Lines are subjective mental constructs that serve no real world purpose.", "Lines are seen as following the smoothest path.", "D", "X", 'We are able to inherently notice lines in the world around us.<br><br>Lines that are the most continuous are noticed by the brain more readily than discontinuous lines.<br><br>Objects following a smooth path are seen as a single "line" while those following a discontinuous path are not regarded as being part of a line.<br><br>The law of continuity states that lines are seen as following the smoothest path.'],
	[/*Question 7*/"Which of the following is an example of bottom-up processing?", "Trying to identify a suspect in a police line-up.","Seeing a novel object for the first time.", "Looking for your keys.", "Inferring that a car is driving down the street based on the sound it makes without actually seeing it.", "B", "X",'Top-down processing relies on our background knowledge, learning & expectations to influence what is perceived. In other words, it’s theory driven, knowledge driven, and context driven. Behavior is influenced by conceptual data.<br><br>Bottom up processing relies on the stimulus to influence what we perceive - in other words, its data driven & perception directs cognition.<br><br>Since seeing a novel object for the first time necessitates that you do not have a pre-existing mental representation of the object, you are relying on the stimulus (the novel object) to guide your perception.<br><br>Seeing an object for the first time is an example of bottom-up processing'],
	[/*Question 8*/"From a biological perspective, differences in perception are caused by differences in physiological features. If an individual lacked sensory adaptation, which of the following would be observed upon exposure to light?", "No constriction of the pupil.","Decrease in sensitivity of cones to light.", "Constriction of the pupil.", "Decrease in sensitivity of rods to light.", "A", "X", 'Sensory adaptation is the ability to adjust your sensory perception based on changing stimuli.<br><br>In this example, the stimulus (light) is increased, and a normal response would attempt to reduce the perception of the light.<br><br>In order to reduce the amount of light entering the eye (and thus perceived by the individual), the pupil must constrict, the cones & rods also must both decrease in sensitivity to the light.<br><br>An individual with a lack of sensory adaptation would be unable to respond with constriction of the pupil.'],
	[/*Question 9*/"Which of the following is not a Gestalt principle?","The law of pragnanz","The law of equality", "The law of similarity","The law of proximity","B", "X", 'The law of similarity states that items that are similar are grouped together by your brain.<br><br>The law of pragnanz states that reality is organized or reduced to the simplest form possible.<br><br>The law of proximity states that objects near each other tend to be grouped together.<br><br>Thus, the law of equality is not one of the Gestalt principles.'],
	[/*Question 10*/'What type of variable is "attractiveness" in this study?',"Independent variable","Dependent variable", "Control variable","Confounding variable","B", "X",'A confounding variable is a third variable that was not evaluated in the study.<br><br>An independent variable is manipulated, whereas a dependent variable is expected to change based on that manipulation.<br><br>In this study, facial symmetry was manipulated (and was the independent variable) and ratings of attractiveness were expected to change based on that manipulation.<br><br>']]
	]
];

var passageLength = 0;
var passagePosition = 1;
var totalQuestions = 0;

for (i=0; i<passageBank.length; i++){
		totalQuestions += passageBank[i][2].length;
}

function _(x) {
	return document.getElementById(x);
}

function renderPassage(){
	questionArray = passageBank[passageNumber-1][2];
	//passageLength = questionArray.length;
	//passageTitle = passageBank[passageNumber-1][0];
	//passageText = passageBank[passageNumber-1][1];
	if(passagePosition >= 2) {
		_("passageNumberOG").innerHTML = passageBank[passageNumber-1][0] + " (Questions " + (passagePosition-questionArray.length+1) +"-"+ passagePosition +")";
		_("passage").innerHTML = passageBank[passageNumber-1][1];
		return false;
	}
	//Renders passage Title and passage Text
	_("passageNumberOG").innerHTML = passageBank[passageNumber-1][0] + " (Questions " + position +"-"+ (position+questionArray.length-1)+")";
	_("passage").innerHTML = passageBank[passageNumber-1][1];
	//_("passage").innerHTML += "passageNumber:" + passageNumber +"<br>";
	//_("passage").innerHTML += "questions" + questionArray.length +"<br>";
}

/*The "make answer" functions just pre-click the button if the question was already answered before.*/

function makeAnswerA(){
	if (passageBank[passageNumber-1][2][passagePosition-1][6] == "A") {
		AnswerA = "<input onClick='addAnswerA()' type='radio' name='choices' value='A' checked ='checked'><b>A.</b> ";
	}
	else {
		AnswerA = "<input onClick='addAnswerA()' type='radio' name='choices' value='A'><b>A.</b> ";
	}
}

function makeAnswerB(){
	if (passageBank[passageNumber-1][2][passagePosition-1][6] == "B") {
		AnswerB = "<input onClick='addAnswerB()' type='radio' name='choices' value='B' checked ='checked'><b>B.</b> ";
	}
	else {
		AnswerB = "<input onClick='addAnswerB()' type='radio' name='choices' value='B'><b>B.</b> ";
	}
}

function makeAnswerC(){
	if (passageBank[passageNumber-1][2][passagePosition-1][6] == "C") {
		AnswerC = "<input onClick='addAnswerC()' type='radio' name='choices' value='C' checked ='checked'><b>C.</b> ";
	}
	else {
		AnswerC = "<input onClick='addAnswerC()' type='radio' name='choices' value='C'><b>C.</b> ";
	}
}

function makeAnswerD(){
	if (passageBank[passageNumber-1][2][passagePosition-1][6] == "D") {
		AnswerD = "<input onClick='addAnswerD()' type='radio' name='choices' value='D' checked ='checked'><b>D.</b> ";
	}
	else {
		AnswerD = "<input onClick='addAnswerD()' type='radio' name='choices' value='D'><b>D.</b> ";
	}
}

function renderQuestion(){
	solutionClicked = 0;

	questionArray = passageBank[passageNumber-1][2];
	passageLength = questionArray.length;
	passageText = passageBank[passageNumber-1][1];
	prompt = _("prompt");
	if(passagePosition > questionArray.length) {
		passageNumber ++;
		passagePosition = 1;
		renderPassage();
	}
	else if(passagePosition <= 0) {
		passageNumber --;
		passagePosition = questionArray.length;
		renderPassage();
	}
	_("testStatus").innerHTML = "Question "+position+" of "+ totalQuestions;
	question = questionArray[passagePosition-1][0];
	_("questionBar").innerHTML = "Question " + position;
	makeAnswerA();
	makeAnswerB();
	makeAnswerC();
	makeAnswerD();
	chA = questionArray[passagePosition-1][1];
	chB = questionArray[passagePosition-1][2];
	chC = questionArray[passagePosition-1][3];
	chD = questionArray[passagePosition-1][4];
	prompt.innerHTML = "<br>" + question +"<br><br>";
	prompt.innerHTML += AnswerA + chA + "<br>";
	prompt.innerHTML += AnswerB + chB +"<br>";
	prompt.innerHTML += AnswerC + chC +"<br>";
	prompt.innerHTML += AnswerD + chD + "<br>";


	//prompt.innerHTML += "passagePosition:" + passagePosition +"<br>";
	//prompt.innerHTML += "passageNumber:" + passageNumber +"<br>";
}

/*Changes value in the array for the user answer from X to A*/
function addAnswerA() {
	passageBank[passageNumber-1][2][passagePosition-1][6] = "A";
}

/*Changes value in the array for the user answer from X to A*/
function addAnswerB() {
	passageBank[passageNumber-1][2][passagePosition-1][6] = "B";
}

/*Changes value in the array for the user answer from X to A*/
function addAnswerC() {
	passageBank[passageNumber-1][2][passagePosition-1][6] = "C";
}

/*Changes value in the array for the user answer from X to A*/
function addAnswerD() {
	passageBank[passageNumber-1][2][passagePosition-1][6] = "D";
}

solutionClicked = 0

function displaySolution(){
	
	solution = _("solution");
	if(solutionClicked == 0){
		if(passageBank[passageNumber-1][2][passagePosition-1][5] == passageBank[passageNumber-1][2][passagePosition-1][6]){
			solution.innerHTML += "You are correct! ";
		}
	solution.innerHTML += "The answer is <b>" + passageBank[passageNumber-1][2][passagePosition-1][5] + "</b>.<br><br>";
	solution.innerHTML += passageBank[passageNumber-1][2][passagePosition-1][7];
	solutionClicked = 1;
	}

	else {
		solution.innerHTML = "";
		solutionClicked = 0;
	}

}


/*Goes to the previous question
Corresponds to the previous button in the bottom left.*/
function previous() {
	if (position===1) {
		return false;
	}
	position--;
	passagePosition--;
	solutionClicked = 1;
	displaySolution();
	renderQuestion();
}

reviewClicked = 0;

/*Tells you how many points you got correct*/
function review() {
	correct = 0;
	reviewPosition = 1;
	main = _("main");

	if (reviewClicked==0){ 
		main.innerHTML = "<br>The table below is a summary of your marked, incomplete, and completed questions for this section. To return to a specific question, double-click on the question number. You may also click one of the Review buttons at the bottom of the screen.<br><br>Symbols Key<br>";
		for(i=0; i< passageBank.length; i++) {
			for(j=0; j< passageBank[i][2].length; j++) {
				if (passageBank[i][2][j][5] === passageBank[i][2][j][6]) {
					correct ++;
				}
				else {
					main.innerHTML += "You got <b>Question " + reviewPosition + "</b> wrong.<br>"; 
				}
				reviewPosition++;
			}
			
		}
		reviewClicked = 1;
		main.innerHTML += "Total correct: " + correct;
	}
	
	else {
		main.innerHTML = '<div id="main"><div id="left"><div id="passageNumberOG"></div><div id="passage"></div></div><div id="right"><div id="questionBar"></div><div id ="solutionColumn"><img onClick ="displaySolution()" src="img/solution.gif"><br>Solution</div><div id="prompt"></div><div id="solution"></div></div></div>';
		reviewClicked = 0;
		renderPassage();
		renderQuestion();
	}
}

/*Goes to the next question
Corresponds to the next button in the bottom right.*/
function next() {
	if(position === totalQuestions) {
		return false
	}
	position++;
	passagePosition++;
	solutionClicked = 1;
	displaySolution();
	renderQuestion();
}

window.addEventListener("load", renderPassage, false);
window.addEventListener("load", renderQuestion, false);


</script>
</head>
<body>

<div id ="purpleBar"></div>
<div id ="grayHelm"><div id="testStatus"></div><div id="nameBox"><a id="name" onClick="promp">George Tye</a><br><span id='mcat'>MEDICAL COLLEGE ADMISSION TEST</span></div></div>

<div id="main">

<!--Main left-->
<div id="left">
<div id="passageNumberOG"></div>
<div id="passage"></div>
</div>

<!--Main right-->
<div id="right">
<div id="questionBar"></div>
<div id ="solutionColumn"><img onClick ='displaySolution()' src='img/solution.gif'><br>Solution</div>
<div id="prompt"></div>
<div id="solution"></div>
</div>
</div>

<div id="grayBottom">
<div id="previous"><img onClick='previous()' src='img/previous.gif'></div>
<div id="mark"><img src="img/mark.gif"></div>
<div id="review"><img onClick="review()" src="img/review.gif"></div>
<div id="next"><img onClick="next()" src="img/next.gif"></div>
</div>
</body>
</html>
